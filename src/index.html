<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>JSPass</title>

    <meta
      name="Description"
      content="Google Chrome Extension Web Version for autogenerated passwords"
    />
    <meta name="theme-color" content="#ffb900" />

    <link rel="icon" type="image/x-icon" href="favicon.ico" />
    <link rel="apple-touch-icon" href="/media/icon-192x192.png" />
    <link rel="manifest" href="manifest.webmanifest" />

    <link href="/style/output.css" rel="stylesheet" />

    <script src="/script/jspass_crypto.js" defer></script>
    <script src="/script/services.js" defer></script>
    <script src="/script/index.js" defer></script>
  </head>
  <body class="font-normal text-base text-black">
    <header class="bg-amber-400 h-64 px-16 flex items-center justify-between">
      <h1 class="text-3xl font-semibold">JSPass</h1>
      <div class="relative">
        <button
          id="menuButton"
          class="size-38 rounded-full hover:border border-amber-600 text-2xl font-semibold outline-none cursor-pointer"
          type="button"
          tabindex="-1"
        >
          ⋮
        </button>
        <menu
          id="menuMenu"
          class="hidden absolute z-99 top-0 right-0 w-200 p-16 text-sm bg-white shadow-lg/20 rounded-sm flex-col gap-y-12"
        >
          <li>
            <button
              id="optionsButton"
              class="cursor-pointer flex items-center gap-x-6 w-full"
              type="button"
            >
              <img
                class="size-22 inline-block"
                src="/media/settings-3-fill.svg"
                alt="Options icon"
              />
              Options
            </button>
          </li>
          <li>
            <a
              class="flex items-center gap-x-6"
              href="https://chromewebstore.google.com/detail/jspass/hbofdeafjgfikkakjdgmlfojabijcdan"
              target="_blank"
              ><img
                class="size-22 inline-block"
                src="/media/puzzle-2-fill.svg"
                alt="Extension icon" /><span class="grow">Get extension</span
              ><img
                class="size-22 inline-block"
                src="/media/external-link-line.svg"
                alt="External link icon"
            /></a>
          </li>
          <li>
            <a
              class="flex items-center gap-x-6"
              href="https://github.com/humbapa/jspass/blob/master/README.md"
              target="_blank"
              ><img
                class="size-22 inline-block"
                src="/media/question-fill.svg"
                alt="Help icon" /><span class="grow">Help</span
              ><img
                class="size-22 inline-block"
                src="/media/external-link-line.svg"
                alt="External link icon"
            /></a>
          </li>
        </menu>
      </div>
    </header>
    <main class="mx-auto w-full md:w-768 py-32 px-16 sm:px-32">
      <form
        id="passwordForm"
        action="/"
        method="post"
        autocomplete="off"
        class="flex flex-col gap-y-32"
      >
        <p
          class="relative bg-neutral-100 border-neutral-500 border-b h-60 p-8 focus-within:border-amber-600 focus-within:border focus-within:rounded-sm"
        >
          <label class="absolute z-0 text-xs text-neutral-900" for="domain">Domain name</label>
          <input
            class="size-full outline-none pt-20"
            id="domain"
            name="domain"
            type="text"
            pattern=".+\..+"
            value=""
            required
            autofocus
          />
        </p>
        <p
          class="relative bg-neutral-100 border-neutral-500 border-b h-60 p-8 focus-within:border-amber-600 focus-within:border focus-within:rounded-sm"
        >
          <label class="absolute z-0 text-xs text-neutral-900" for="masterPassword"
            >Mater password</label
          >
          <input
            class="size-full outline-none pt-20"
            id="masterPassword"
            name="masterPassword"
            type="password"
            value=""
            required
            autocomplete="new-password"
          />
        </p>
        <p
          class="relative bg-neutral-100 border-neutral-500 border-b h-60 p-8 focus-within:border-amber-600 focus-within:border focus-within:rounded-sm"
        >
          <label class="absolute z-0 text-xs text-neutral-900" for="passwordLength"
            >Password length</label
          >
          <input
            class="size-full outline-none pt-20"
            id="passwordLength"
            name="passwordLength"
            type="number"
            value="15"
            required
          />
        </p>
        <div class="grid grid-cols-2 gap-32">
          <p class="flex items-center">
            <input
              class="cursor-pointer size-24 outline-none rounded-full border border-neutral-500 bg-neutral-100 focus:border-amber-600 before:text-amber-600 before:font-bold before:text-3xl before:-translate-y-8 before:block checked:before:content-['✓']"
              id="numbers"
              name="numbers"
              type="checkbox"
              checked
            />
            <label class="pl-12 cursor-pointer text-sm" for="numbers">Numbers</label>
          </p>
          <p
            class="relative bg-neutral-100 border-neutral-500 border-b h-60 p-8 focus-within:border-amber-600 focus-within:border focus-within:rounded-sm"
          >
            <label class="absolute z-0 text-xs text-neutral-900" for="minNumbers"
              >Min. numbers</label
            >
            <input
              class="size-full outline-none pt-20"
              id="minNumbers"
              name="minNumbers"
              type="number"
              value="2"
            />
          </p>
          <p class="flex items-center">
            <input
              class="cursor-pointer size-24 outline-none rounded-full border border-neutral-500 bg-neutral-100 focus:border-amber-600 before:text-amber-600 before:font-bold before:text-3xl before:-translate-y-8 before:block checked:before:content-['✓']"
              id="specialChars"
              name="specialChars"
              type="checkbox"
              checked
            />
            <label class="pl-12 cursor-pointer text-sm" for="specialChars">Special chars</label>
          </p>
          <p
            class="relative bg-neutral-100 border-neutral-500 border-b h-60 p-8 focus-within:border-amber-600 focus-within:border focus-within:rounded-sm"
          >
            <label class="absolute z-0 text-xs text-neutral-900" for="minSpecialChars"
              >Min. special chars</label
            >
            <input
              class="size-full outline-none pt-20"
              id="minSpecialChars"
              name="minSpecialChars"
              type="number"
              value="2"
            />
          </p>
        </div>
        <button
          id="generateButton"
          type="submit"
          class="font-semibold bg-amber-400 hover:bg-amber-500 active:bg-amber-600 p-8 rounded-md outline-none focus:bg-amber-500"
        >
          Generate
        </button>
      </form>
    </main>

    <dialog
      class="mx-auto my-auto bg-white py-32 px-16 sm:px-32 shadow-lg/20 rounded-md"
      id="welcomeDialog"
      closedby="any"
    >
      <div class="flex flex-col gap-y-32">
        <div class="flex items-center gap-x-16">
          <img src="/media/icon-72x72.png" alt="JSPass icon" class="size-40" />
          <p>
            <strong class="block font-bold text-xl">Welcome to JSPass</strong>
            <span class="text-neutral-500"
              >A Google Chrome Extension for autogenerated passwords</span
            >
          </p>
        </div>
        <p>
          The goal of this page is to make JSPass usable without Chrome Extension (eg. on mobile
          devices). Please visit the
          <a
            class="underline"
            target="_blank"
            href="https://chrome.google.com/webstore/detail/jspass/hbofdeafjgfikkakjdgmlfojabijcdan"
            >Chrome Web Store</a
          >
          for the actual extension or
          <a class="underline" target="_blank" href="https://github.com/humbapa/jspass">GitHub</a>
          for the source code.
        </p>
        <p>
          To be able to use JSPass you need to at least define a random salt and the number of
          iterations to use for the PBKDF2 function.
        </p>
        <p>Please first go to the options page to store those settings locally in your browser.</p>
        <p class="grid grid-cols-1 gap-x-16">
          <button
            class="bg-amber-400 hover:bg-amber-500 active:bg-amber-600 p-8 rounded-md outline-none focus:bg-amber-500"
            id="welcomeDialogOpenOptionsButton"
            type="button"
            autofocus
          >
            Open options
          </button>
        </p>
      </div>
    </dialog>

    <dialog
      class="mx-auto my-auto bg-white p-32 shadow-lg/20 rounded-md"
      id="passwordDialog"
      closedby="none"
    >
      <form action="/" method="post" autocomplete="off" class="flex flex-col gap-y-32">
        <p>
          <label for="sitePassword" class="font-semibold block mb-24 text-center"
            >Site password</label
          >
          <input
            class="bg-neutral-100 border-neutral-500 border-b h-40 p-8 focus-within:border-amber-600 focus-within:border focus-within:rounded-sm outline-none w-full text-center"
            value=""
            id="sitePassword"
            name="sitePassword"
            type="text"
          />
        </p>
        <p class="grid grid-cols-2 gap-x-16">
          <button
            class="hover:bg-neutral-100 active:bg-amber-600 p-8 rounded-md outline-none focus:bg-neutral-100"
            id="passwordDialogCloseButton"
            type="button"
          >
            Close
          </button>
          <button
            class="bg-amber-400 hover:bg-amber-500 active:bg-amber-600 p-8 rounded-md outline-none focus:bg-amber-500"
            id="passwordDialogCopyCloseButton"
            type="button"
            autofocus
          >
            Copy & close
          </button>
        </p>
      </form>
    </dialog>

    <dialog
      class="mx-auto my-auto bg-white py-32 px-16 sm:px-32 shadow-lg/20 rounded-md"
      id="optionsDialog"
      closedby="any"
    >
      <form
        id="optionsForm"
        action="/"
        method="post"
        autocomplete="off"
        class="flex flex-col gap-y-32"
      >
        <p class="text-center">
          <strong class="block font-bold text-xl mb-16">Options</strong> Changing any of these
          settings will also change all your previously generated passwords!
        </p>
        <fieldset class="relative pb-26">
          <div
            class="relative bg-neutral-100 border-neutral-500 border-b p-8 focus-within:border-amber-600 focus-within:border focus-within:rounded-sm"
          >
            <label class="absolute z-0 text-xs text-neutral-900" for="salt">Salt</label>
            <textarea
              class="size-full outline-none pt-20"
              id="salt"
              name="salt"
              rows="4"
              required
            ></textarea>
          </div>
          <legend class="absolute bottom-0 text-sm italic text-neutral-700 px-2">
            Random hex hash which will be used together with your master password.
          </legend>
        </fieldset>
        <fieldset class="relative pb-44">
          <div
            class="relative bg-neutral-100 border-neutral-500 h-60 border-b p-8 focus-within:border-amber-600 focus-within:border focus-within:rounded-sm"
          >
            <label class="absolute z-0 text-xs text-neutral-900" for="salt">Iterations</label>
            <input
              class="size-full outline-none pt-20"
              id="iterations"
              name="iterations"
              type="number"
              required
            />
          </div>
          <legend class="absolute bottom-0 text-sm italic text-neutral-700 px-2">
            How many times the password will be randomized, a higher value means more CPU power is
            needed and thus will make brute-force attacks harder.
          </legend>
        </fieldset>
        <fieldset class="relative pb-26">
          <div
            class="relative bg-neutral-100 border-neutral-500 h-60 border-b p-8 focus-within:border-amber-600 focus-within:border focus-within:rounded-sm"
          >
            <label class="absolute z-0 text-xs text-neutral-900" for="salt">Password length</label>
            <input
              class="size-full outline-none pt-20"
              id="defaultPasswordLength"
              name="defaultPasswordLength"
              type="number"
              required
            />
          </div>
          <legend class="absolute bottom-0 text-sm italic text-neutral-700 px-2">
            The default length of the generated password.
          </legend>
        </fieldset>
        <fieldset class="relative pb-26">
          <div
            class="relative bg-neutral-100 border-neutral-500 h-60 border-b p-8 focus-within:border-amber-600 focus-within:border focus-within:rounded-sm"
          >
            <label class="absolute z-0 text-xs text-neutral-900" for="salt">Special chars</label>
            <input
              class="size-full outline-none pt-20"
              id="allowedSpecialChars"
              name="allowedSpecialChars"
              type="text"
              required
            />
          </div>
          <legend class="absolute bottom-0 text-sm italic text-neutral-700 px-2">
            The allowed special chars.
          </legend>
        </fieldset>
        <p class="grid grid-cols-2 gap-x-16">
          <button
            class="hover:bg-neutral-100 active:bg-amber-600 p-8 rounded-md outline-none focus:bg-neutral-100"
            id="optionsDialogCloseButton"
            type="button"
          >
            Close
          </button>
          <button
            class="bg-amber-400 hover:bg-amber-500 active:bg-amber-600 p-8 rounded-md outline-none focus:bg-amber-500"
            id="optionsDialogSaveCloseButton"
            type="submit"
          >
            Save & close
          </button>
        </p>
      </form>
    </dialog>
  </body>
</html>
